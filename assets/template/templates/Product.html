{extends 'template:Base'}

{block 'Content'}
  <div class="Product">
    <div class="Product__top">
      <div class="Container">
        {'Crumbs' | chunk}
      </div>
    </div>
    <div class="Product__middle">
      <div class="Container">
        <div class="Product__title">
          <h1 class="T_bold T_c1 T_w1 T_s9 T_m4 T_upper">{$_modx->resource.pagetitle}</h1>
        </div>
        <div class="Product__item">
          <div class="Product__gallery">
            {'msGallery' | snippet: [
              'tpl' => 'Fotorama'
            ]}
          </div>
          <div class="Product__options">
            <p class="T_s5 T_bold T_m2">Характеристики</p>
            {'msProductOptionsCustom' | snippet: [
              'sort_key' => 'opt_count_pallet, opt_count_m3, opt_strength_class, opt_weight_one, opt_weight_pallet',
              'limit' => 5,
              'tpl' => 'ProductOptions',
              'text_class' => 'T_s2 T_m2'
            ]}
            <p class="T_s1 T_c1 T_m5">{$_modx->resource.ProductInfo}</p>
          </div>
          <div class="Product__price">
            <p class="T_s5 T_bold T_m2">Цена</p>
            <div class="Product__price_wrap">
              <p class="T_bold T_c1 T_w1 T_s7 T_m3">{$_modx->resource.price} руб./м<sup>3</sup></p>
              <button class="Button Button_w1 Button_v1" data-js="Modal" data-modal="#callback_order">Заказать</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="Product__bottom">
      <div class="Container">
        <div class="Product__content">
          <h2 class="T_s5 T_bold T_m3">Описание</h2>
          {$_modx->resource.content}
        </div>
        <div class="Product__optionsBlock">
          <div class="Product__optionsBlock_title">
            <p class="T_s1 T_c1 T_bold">Характеристики</p>
          </div>
          {'msProductOptionsCustom' | snippet: [
            'tpl' => 'ProductOptionsTable',
            'text_class' => 'T_s1'
            'td_class_1' => 'Table__td_mw1',
            'td_class_2' => '',
          ]}
          <div class="Product__perks">
            {set $perks = [
              ['title' => "Легкий", 'icon' => "/assets/template/images/icons/perks/1.svg"],
              ['title' => "Прочный", 'icon' => "/assets/template/images/icons/perks/2.svg"],
              ['title' => "Экологичный", 'icon' => "/assets/template/images/icons/perks/3.svg"],
              ['title' => "Теплый", 'icon' => "/assets/template/images/icons/perks/4.svg"],
              ['title' => "Огнестойкий", 'icon' => "/assets/template/images/icons/perks/5.svg"],
              ['title' => "Технологичный", 'icon' => "/assets/template/images/icons/perks/6.svg"],
            ]}
            {foreach $perks as $perk}
              <div class="Product__perk">
                <img class="Product__perk_img" src="{$perk.icon}" alt="{$perk.title}">
                <p class="T_s1">{$perk.title}</p>
              </div>
            {/foreach}
          </div>
        </div>
      </div>
    </div>
  </div>
  {'AboutSlider' | chunk : [
    'title' => 'Фотографии с производства',
    'title_class' => 'T_bold T_c1 T_w1 T_s9 T_m4 T_center T_upper'
  ]}
  {'ContactsBlock' | chunk}
{/block}